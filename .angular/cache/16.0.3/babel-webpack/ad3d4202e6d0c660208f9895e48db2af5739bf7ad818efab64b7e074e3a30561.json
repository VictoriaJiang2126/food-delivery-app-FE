{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../service/fooditem.service\";\nimport * as i3 from \"@angular/common\";\nfunction FoodCatalogueComponent_div_12_button_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 14);\n    i0.ɵɵlistener(\"click\", function FoodCatalogueComponent_div_12_button_7_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const food_r1 = i0.ɵɵnextContext().$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.decrement(food_r1));\n    });\n    i0.ɵɵtext(1, \"-\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction FoodCatalogueComponent_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 6)(1, \"div\", 7)(2, \"div\", 8);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 9);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"div\", 10);\n    i0.ɵɵtemplate(7, FoodCatalogueComponent_div_12_button_7_Template, 2, 0, \"button\", 11);\n    i0.ɵɵelementStart(8, \"div\", 12);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"button\", 13);\n    i0.ɵɵlistener(\"click\", function FoodCatalogueComponent_div_12_Template_button_click_10_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r7);\n      const food_r1 = restoredCtx.$implicit;\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.increment(food_r1));\n    });\n    i0.ɵɵtext(11, \"+\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const food_r1 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(food_r1.itemName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\\u20B9 \", food_r1.price, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", food_r1.quantity > 0);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(food_r1.quantity);\n  }\n}\nlet FoodCatalogueComponent = /*#__PURE__*/(() => {\n  class FoodCatalogueComponent {\n    constructor(route, foodItemService, router) {\n      this.route = route;\n      this.foodItemService = foodItemService;\n      this.router = router;\n      this.foodItemCart = [];\n    }\n    ngOnInit() {\n      this.route.paramMap.subscribe(params => {\n        this.restaurantId = +params.get('id');\n      });\n      this.getFoodItemsByRestaurant(this.restaurantId);\n    }\n    getFoodItemsByRestaurant(restaurant) {\n      this.foodItemService.getFoodItemsByRestaurant(restaurant).subscribe(data => {\n        this.foodItemResponse = data;\n      });\n    }\n    increment(food) {\n      food.quantity++;\n      const index = this.foodItemCart.findIndex(item => item.id === food.id);\n      if (index === -1) {\n        // If record does not exist, add it to the array\n        this.foodItemCart.push(food);\n      } else {\n        // If record exists, update it in the array\n        this.foodItemCart[index] = food;\n      }\n    }\n    decrement(food) {\n      if (food.quantity > 0) {\n        food.quantity--;\n        const index = this.foodItemCart.findIndex(item => item.id === food.id);\n        if (this.foodItemCart[index].quantity == 0) {\n          this.foodItemCart.splice(index, 1);\n        } else {\n          // If record exists, update it in the array\n          this.foodItemCart[index] = food;\n        }\n      }\n    }\n    onCheckOut() {\n      this.foodItemCart;\n      this.orderSummary = {\n        foodItemsList: [],\n        restaurant: null\n      };\n      this.orderSummary.foodItemsList = this.foodItemCart;\n      this.orderSummary.restaurant = this.foodItemResponse.restaurant;\n      this.router.navigate(['/orderSummary'], {\n        queryParams: {\n          data: JSON.stringify(this.orderSummary)\n        }\n      });\n    }\n  }\n  FoodCatalogueComponent.ɵfac = function FoodCatalogueComponent_Factory(t) {\n    return new (t || FoodCatalogueComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.FoodItemService), i0.ɵɵdirectiveInject(i1.Router));\n  };\n  FoodCatalogueComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: FoodCatalogueComponent,\n    selectors: [[\"app-food-catalogue\"]],\n    decls: 13,\n    vars: 3,\n    consts: [[1, \"restaurant-details\"], [1, \"restaurant-header\"], [1, \"checkout-button\", 3, \"click\"], [1, \"fas\", \"fa-shopping-cart\"], [1, \"food-list\"], [\"class\", \"food-item\", 4, \"ngFor\", \"ngForOf\"], [1, \"food-item\"], [1, \"food-details\"], [1, \"food-name\"], [1, \"food-price\"], [1, \"food-quantity\"], [\"class\", \"minus-button\", 3, \"click\", 4, \"ngIf\"], [1, \"quantity-label\"], [1, \"plus-button\", 3, \"click\"], [1, \"minus-button\", 3, \"click\"]],\n    template: function FoodCatalogueComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h1\");\n        i0.ɵɵtext(3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"button\", 2);\n        i0.ɵɵlistener(\"click\", function FoodCatalogueComponent_Template_button_click_4_listener() {\n          return ctx.onCheckOut();\n        });\n        i0.ɵɵelement(5, \"i\", 3);\n        i0.ɵɵtext(6, \" Checkout \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(7, \"p\");\n        i0.ɵɵtext(8);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"h2\");\n        i0.ɵɵtext(10, \"Food Menu\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"div\", 4);\n        i0.ɵɵtemplate(12, FoodCatalogueComponent_div_12_Template, 12, 4, \"div\", 5);\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate(ctx.foodItemResponse.restaurant.name);\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate(ctx.foodItemResponse.restaurant.restaurantDescription);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngForOf\", ctx.foodItemResponse.foodItemsList);\n      }\n    },\n    dependencies: [i3.NgForOf, i3.NgIf],\n    styles: [\".restaurant-details[_ngcontent-%COMP%]{text-align:center;margin:20px auto;max-width:800px}.food-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;margin:20px 0}.food-item[_ngcontent-%COMP%]{display:flex;align-items:center;margin:10px;padding:10px;box-shadow:0 0 5px #0000004d;width:800px}.food-details[_ngcontent-%COMP%]{flex-grow:1;text-align:left}.food-name[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin-bottom:10px}.food-price[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px}.food-quantity[_ngcontent-%COMP%]{display:flex;align-items:center}.minus-button[_ngcontent-%COMP%], .plus-button[_ngcontent-%COMP%]{background-color:#008cba;color:#fff;border:none;padding:10px;cursor:pointer;width:30px;height:30px}.minus-button[_ngcontent-%COMP%]:hover, .plus-button[_ngcontent-%COMP%]:hover{background-color:#006080}.quantity-label[_ngcontent-%COMP%]{margin:0 10px;font-size:18px}.checkout-button[_ngcontent-%COMP%]{background-color:#4caf50;border:none;color:#fff;padding:15px 32px;text-align:center;text-decoration:none;display:inline-block;font-size:16px;margin:4px 2px;cursor:pointer;border-radius:0 px}.checkout-button[_ngcontent-%COMP%]:hover{background-color:#3e8e41}.checkout-button[_ngcontent-%COMP%]:active{background-color:#367832}.checkout-button-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:20px}.restaurant-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}\"]\n  });\n  return FoodCatalogueComponent;\n})();\nexport { FoodCatalogueComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}